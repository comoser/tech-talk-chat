{"version":3,"file":"static/webpack/static/development/pages/index.js.3f77f8a9aa373a10ba6d.hot-update.js","sources":["webpack:///./components/chat/chat_box.js","webpack:///./hooks/chat_messages.js","webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/arrayWithHoles.js","webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/iterableToArrayLimit.js","webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/nonIterableRest.js","webpack:///./node_modules/@babel/runtime-corejs2/helpers/esm/slicedToArray.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport socketio from 'socket.io-client';\nimport uuidLib from 'uuid/v1';\n\nimport useChatMessages from '../../hooks/chat_messages';\n\nexport const ChatBox = () => {\n    const [uuid, setUuid] = useState(null);\n    const [socket, setSocket] = useState(null);\n    const [message, setMessage] = useState('');\n    const [messages, addMessage] = useChatMessages([]);\n\n    useEffect(() => {\n        const socket = socketio.connect('http://localhost:8007');\n        const uuidValue = uuidLib();\n        setSocket(socket);\n        setUuid(uuidValue);\n        socket.on('CHAT_MESSAGE_RECEIVED', (chatMessageContent) => {\n            console.log(chatMessageContent);\n            setMessages([...messages, chatMessageContent.message]);\n            if (chatMessageContent.uuid === uuidValue) {\n                console.log('IT WAS ME');\n            } else {\n                console.log('NOT ME');\n            }\n        });\n    }, []);\n\n    const onMessageChange = (e) => {\n        setMessage(e.target.value);\n    };\n\n    const sendMessage = () => {\n        socket.emit('CHAT_MESSAGE_SENT', {\n            uuid,\n            message,\n        });\n    }\n\n    return (\n        <div>\n            <ul>\n                {\n                    messages.map((msg) => {\n                        return (\n                            <li key={msg}>{msg}</li>\n                        );\n                    })\n                }\n            </ul>\n            <input\n                name=\"chat-message\"\n                value={message}\n                onChange={onMessageChange}\n            />\n            <button onClick={sendMessage}>\n                Send Message\n            </button>\n        </div>\n    );\n};\n\nChatBox.propTypes = {\n\n};\n\nChatBox.defaultProps = {\n\n};\n","import React, { useState, useEffect } from 'react';\n\nfunction useChatMessages(initialState) {\n  const [messages, setMessages] = useState(initialState);\n\n  function addMessage(message) {\n      setMessages([...messages, message]);\n  }\n\n  return [messages, addMessage];\n}\n\nexport default useChatMessages;\n","import _Array$isArray from \"../../core-js/array/is-array\";\nexport default function _arrayWithHoles(arr) {\n  if (_Array$isArray(arr)) return arr;\n}","import _getIterator from \"../../core-js/get-iterator\";\nexport default function _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = _getIterator(arr), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAIA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAEA;AAIA;;;;;;;;;;;;;;;;;ACpEA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACZA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACzBA;AAAA;AAAA;AACA;AACA;;;;;;;;;;;;ACFA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}